function getQueryParameterByName(e,t){t||(t=window.location.href.toLowerCase()),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),s=n.exec(t);return s?s[2]?decodeURIComponent(s[2].replace(/\+/g," ")):"":null}function preload(e){for(var t,n=e.length,s=window.document,i=s.body,o=("fileSize"in s);n--;)o?(new Image).src=e[n]:(t=s.createElement("object"),t.data=e[n],t.width=t.height=0,i.appendChild(t))}function preloadStyle(e){for(var t,n=e.length,s=window.document,i=s.body,o=("fileSize"in s);n--;)o?(new Image).src=e[n]:(t=s.createElement("style"),t.data=e[n],t.width=t.height=0,i.appendChild(t))}$(document).ready(function(){LoadEditedStyleVersion()}),LoadEditedStyleVersion=function(){var e=window.location,t=e.protocol+"//"+e.host+"/",n=getQueryParameterByName("ineditmode");if(Storage){if($("#hdnBrandingCSSPath").length>0&&null==sessionStorage.getItem("InEditMode")){var s=$("#hdnBrandingCSSPath").val(),i=$("#hdnBrandingVersionNo").val(),o=$("#hdnBrandingPackageId").val(),a=$("#hdnCSSFileName").val(),r=$("#hdnDCAVersion").val(),d=t+"css/"+s+"/"+a;"true"==n&&(sessionStorage.setItem("InEditMode",!0),$("#hdnInEditMode").val("true"),sessionStorage.setItem("BrandingCSSPath",s),sessionStorage.setItem("BrandingVersionNo",i),sessionStorage.setItem("BrandingPackageId",o),sessionStorage.setItem("CSSFileName",a),sessionStorage.setItem("EditedDCAVersion",r),d=t+"css/brandingpackages/"+o+(""!=i?"/"+i:"")+"/"+("V1"==r.toUpperCase()?"site.min.css":"site-cms.min.css"))}if(null!=sessionStorage.getItem("InEditMode")&&"true"==sessionStorage.getItem("InEditMode")){s=sessionStorage.getItem("BrandingCSSPath"),i=sessionStorage.getItem("BrandingVersionNo"),a=sessionStorage.getItem("CSSFileName"),o=sessionStorage.getItem("BrandingPackageId"),r=sessionStorage.getItem("EditedDCAVersion"),d=t+"css/brandingpackages/"+o+(""!=i?"/"+i:"")+"/"+("V1"==r.toUpperCase()?"site.min.css":"site-cms.min.css"),preload([d]),$("LINK[href*='"+t+"css/brandingpackages/"+o+(""!=i?"/"+i:"")+"/site.min.css]").remove(),$("LINK[href*='/site.min.css']").remove(),$("LINK[href*='"+t+"css/brandingpackages/"+o+(""!=i?"/"+i:"")+"/site-cms.min.css]").remove(),$("head").append('<link rel="stylesheet" href="'+d+'" type="text/css" asp-append-version="true" />'),$("#editSessionStorageInfo").html("<label class='alert alert-info'>You are currently previewing Draft Version.</label>").removeClass("hidden");var l=window.location.toString();l.indexOf("PreviewEditVersion")<=0&&l.indexOf("Error")<=0&&(l.indexOf("?")>0?window.location=l+"&PreviewEditVersion="+r:window.location=l+"?PreviewEditVersion="+r)}}else"true"==n&&$("#editSessionStorageInfo").html("<label class='alert alert-danger'>Edit view not working. We need HTML session storage to show Edit Version. Please check that, it is not blocked.</label>").removeClass("hidden")};